import java.io.IOException;
import java.util.ArrayList;

public class Game {
	
	private static ArrayList<String> code = new ArrayList<>();
	private static ArrayList<String> decoded = new ArrayList<>();
	private static int amountCorrect = 0;
	private static int guesses = 0;

	public static void main(String[] args) throws IOException {
		System.out.println("Enter your code");
		String[] options = new String[] { "Pink", "Yellow", "Green", "Purple", "Orange", "White" };
		do {
			int colorSelect = ConsoleUI.promptForMenuSelection(options, false);
			if (colorSelect == 1) {
				code.add(options[0]);
			} else if (colorSelect == 2) {
				code.add(options[1]);
			} else if (colorSelect == 3) {
				code.add(options[2]);
			} else if (colorSelect == 4) {
				code.add(options[3]);
			}
		} while (code.size() < 4);
		do {
			decoded.clear();
			System.out.println("Enter your guess");
			do {
				int guesserColorSelect = ConsoleUI.promptForMenuSelection(options, false);
				if (guesserColorSelect == 1) {
					decoded.add(options[0]);
					checking(options[0]);
				} else if (guesserColorSelect == 2) {
					decoded.add(options[1]);
					checking(options[1]);
				} else if (guesserColorSelect == 3) {
					decoded.add(options[2]);
					checking(options[2]);
				} else if (guesserColorSelect == 4) {
					decoded.add(options[3]);
					checking(options[3]);
				}
			} while (decoded.size() < 4);

			System.out.println("Your guess was: " + decoded.toString());
			if (amountCorrect == 4) {
				System.out.println("You won!!. The code was: " + code.toString());
				return;
			} else {
				System.out.println("Your guess is wrong. You have " + (10 - guesses) + " left.");
			}
			
		} while (guesses < 10);
		
		System.out.println("You lost. Hopefully you were close!");
		
	}
	public static void checking(String color){
		if (decoded.get(decoded.size()-1).equals(color)) {
			System.out.println("The code does contain " + color + ", and you have it in the right spot");
			amountCorrect++;
		} else if (code.contains(color)) {
			System.out.println("The code does contain " + color + ", but you have it in the wrong spot");
		}
		guesses++;
		
	}
}
